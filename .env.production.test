# LeanVibe Agent Hive 2.0 - Production Environment Configuration Template
# Copy this file to .env.production and customize for your deployment

# =============================================================================
# DEPLOYMENT INFORMATION
# =============================================================================
# Deployment environment and build information
ENVIRONMENT=production
APP_NAME=LeanVibe Agent Hive
APP_VERSION=2.0.0
BUILD_DATE=
VCS_REF=
PYTHON_VERSION=3.12

# Domain and URL configuration
DOMAIN_NAME=yourdomain.com
API_BASE_URL=https://yourdomain.com/api
FRONTEND_URL=https://yourdomain.com

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED - GENERATE SECURE VALUES)
# =============================================================================
# SECRET_KEY: Generate with: openssl rand -hex 32
SECRET_KEY=test-secret-key-for-validation-only-not-for-production-use-replace-immediately

# JWT_SECRET_KEY: Generate with: openssl rand -hex 64
JWT_SECRET_KEY=test-jwt-secret-key-for-validation-only-not-for-production-use-replace-immediately

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Configuration
POSTGRES_DB=leanvibe_agent_hive
POSTGRES_USER=leanvibe_user
POSTGRES_PASSWORD=test-postgres-password-123
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://leanvibe_user:test-postgres-password-123@postgres:5432/leanvibe_agent_hive

# Database Performance
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis Configuration
REDIS_PASSWORD=test-redis-password-123
REDIS_PORT=6379
REDIS_URL=redis://:test-redis-password-123@redis:6379/0
REDIS_STREAM_MAX_LEN=10000

# =============================================================================
# AI SERVICE CONFIGURATION
# =============================================================================
# Anthropic Claude Configuration
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# OpenAI Configuration (Optional)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview

# =============================================================================
# WEB SERVER CONFIGURATION
# =============================================================================
# API Server Configuration
API_PORT=8000
MAX_WORKERS=4
WORKER_CONNECTIONS=1000
MAX_REQUESTS=10000
GRACEFUL_TIMEOUT=30

# HTTP/HTTPS Ports
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# CORS AND SECURITY
# =============================================================================
# CORS Origins (Comma-separated list)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com

# Allowed Hosts (Comma-separated list)
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,app.yourdomain.com,api

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Production Feature Flags
DEBUG=false
LOG_LEVEL=INFO
ENABLE_HOT_RELOAD=false
ENABLE_DEBUG_TOOLBAR=false

# Application Features
AUTO_MIGRATE=true
WS_AUTH_REQUIRED=true
WS_AUTH_MODE=jwt
ENABLE_WEBAUTHN=true
ENABLE_GITHUB_INTEGRATION=true
ENABLE_ENTERPRISE_TEMPLATES=true

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================
# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PERFORMANCE_MONITORING_ENABLED=true

# Grafana Configuration
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=test-grafana-password-123
GRAFANA_SECRET_KEY=test-grafana-secret-key-123

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================
# Database Backup Configuration
BACKUP_SCHEDULE=@daily
BACKUP_KEEP_DAYS=7
BACKUP_KEEP_WEEKS=4
BACKUP_KEEP_MONTHS=6

# Data Directory (Host path for persistent storage)
DATA_DIR=/var/lib/leanvibe

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# SSL Certificate Configuration
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# WebSocket Configuration
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_TIMEOUT=60
MAX_REQUESTS_PER_MINUTE=1000
CACHE_TTL=3600

# Resource Limits
API_MEMORY_LIMIT=4G
API_CPU_LIMIT=2.0
POSTGRES_MEMORY_LIMIT=2G
REDIS_MEMORY_LIMIT=512M

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Structured Logging
LOG_FORMAT=json
LOG_ROTATION_SIZE=100M
LOG_RETENTION_DAYS=30

# Component Log Levels
DATABASE_LOG_LEVEL=WARNING
REDIS_LOG_LEVEL=WARNING
NGINX_LOG_LEVEL=WARNING

# =============================================================================
# DEVELOPMENT OVERRIDES (Should be false/disabled in production)
# =============================================================================
# Development Settings - ENSURE THESE ARE DISABLED IN PRODUCTION
SKIP_STARTUP_INIT=false
ENABLE_MOCK_DATA=false
ENABLE_DEBUG=false

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# 1. Replace ALL placeholder values (your-*, yourdomain.com, etc.)
# 2. Generate secure random values for all secret keys
# 3. Configure SSL certificates before deploying with HTTPS
# 4. Set up proper DNS records for your domain
# 5. Ensure DATA_DIR exists and has proper permissions
# 6. Review and adjust resource limits based on your server capacity
# 7. Configure backup storage location and retention policies
# 8. Set up monitoring alerts and notification channels
# 9. Test deployment in staging environment first
# 10. Have rollback plan ready before production deployment