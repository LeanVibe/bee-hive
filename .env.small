# Project Index Universal Installer - Small Deployment Profile
# For small projects (< 1000 files, single developer)

# =========================================================================
# DEPLOYMENT CONFIGURATION
# =========================================================================
DEPLOYMENT_PROFILE=small
ENVIRONMENT=production
BUILD_TARGET=production

# =========================================================================
# RESOURCE LIMITS (Small Profile)
# =========================================================================

# API Service Resources
PROJECT_INDEX_MEMORY_LIMIT=512M
PROJECT_INDEX_CPU_LIMIT=0.5
PROJECT_INDEX_MEMORY_RESERVATION=256M
PROJECT_INDEX_CPU_RESERVATION=0.25

# Database Resources  
POSTGRES_MEMORY_LIMIT=256M
POSTGRES_CPU_LIMIT=0.25
POSTGRES_MEMORY_RESERVATION=128M
POSTGRES_CPU_RESERVATION=0.1

# Redis Resources
REDIS_MEMORY_LIMIT=128M
REDIS_CPU_LIMIT=0.1
REDIS_MEMORY_RESERVATION=64M
REDIS_CPU_RESERVATION=0.05

# Worker Resources (Disabled for small profile)
WORKER_MEMORY_LIMIT=256M
WORKER_CPU_LIMIT=0.25
WORKER_MEMORY_RESERVATION=128M
WORKER_CPU_RESERVATION=0.1
WORKER_REPLICAS=0

# Monitor Resources
MONITOR_MEMORY_LIMIT=64M
MONITOR_CPU_LIMIT=0.1
MONITOR_MEMORY_RESERVATION=32M
MONITOR_CPU_RESERVATION=0.05

# Dashboard Resources
DASHBOARD_MEMORY_LIMIT=128M
DASHBOARD_CPU_LIMIT=0.1
DASHBOARD_MEMORY_RESERVATION=64M
DASHBOARD_CPU_RESERVATION=0.05

# =========================================================================
# PERFORMANCE TUNING (Small Profile)
# =========================================================================

# Database Configuration
POSTGRES_SHARED_BUFFERS=64MB
POSTGRES_CACHE_SIZE=256MB
POSTGRES_MAINTENANCE_MEM=16MB
POSTGRES_MAX_CONNECTIONS=20

# Redis Configuration
REDIS_MAX_CONNECTIONS=20

# Worker Configuration
WORKER_CONCURRENCY=1
ANALYSIS_BATCH_SIZE=20
QUEUE_PREFETCH=5
TASK_TIMEOUT=180

# Cache Configuration
CACHE_TTL_HOURS=12
CONTEXT_CACHE_SIZE=200

# Analysis Configuration
MAX_FILE_SIZE_MB=10
MAX_FILES_PER_ANALYSIS=1000
ANALYSIS_TIMEOUT_SECONDS=180

# =========================================================================
# FEATURE TOGGLES (Small Profile)
# =========================================================================

# Simplified features for small projects
ENABLE_ML_ANALYSIS=false
ENABLE_SEMANTIC_SEARCH=false
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_METRICS=false

# Essential features only
ENABLE_INCREMENTAL=true
ENABLE_REAL_TIME_MONITORING=true
ENABLE_DEPENDENCY_ANALYSIS=true
ENABLE_SMART_CACHING=true