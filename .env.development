# LeanVibe Agent Hive 2.0 - Development Environment Configuration
# Epic 6 Phase 2: Database & Infrastructure Validation
#
# Optimized for local development with Docker Compose services
# Full debugging enabled, relaxed security for development ease

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

APP_NAME="LeanVibe Agent Hive 2.0 - Development"
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG

# Development Security (NOT for production)
SECRET_KEY=development-secret-key-change-in-production-minimum-32-chars-for-security
JWT_SECRET_KEY=development-jwt-secret-key-change-in-production-minimum-64-chars-for-maximum-security
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=720  # 12 hours for development

# Relaxed Security for Development
SECURITY_ENABLED=false
MFA_ENABLED=false
API_RATE_LIMIT_ENABLED=false
THREAT_DETECTION_ENABLED=false

# =============================================================================
# DATABASE CONFIGURATION (Docker Compose)
# =============================================================================

DATABASE_URL=postgresql+asyncpg://leanvibe_user:leanvibe_secure_pass@localhost:15432/leanvibe_agent_hive
DATABASE_POOL_SIZE=10      # Smaller pool for development
DATABASE_MAX_OVERFLOW=20   # Reduced overflow for development

POSTGRES_DB=leanvibe_agent_hive
POSTGRES_USER=leanvibe_user
POSTGRES_PASSWORD=leanvibe_secure_pass
POSTGRES_PORT=15432

# =============================================================================
# REDIS CONFIGURATION (Docker Compose)
# =============================================================================

REDIS_URL=redis://:leanvibe_redis_pass@localhost:16379/0
REDIS_STREAM_MAX_LEN=1000   # Smaller for development
REDIS_PASSWORD=leanvibe_redis_pass
REDIS_PORT=16379

# Reduced Redis performance settings for development
REDIS_CONNECTION_POOL_SIZE=10
REDIS_MAX_CONNECTIONS=50
REDIS_CONNECTION_TIMEOUT=10.0

# =============================================================================
# DEVELOPMENT PORTS (Non-standard to avoid conflicts)
# =============================================================================

API_HOST=localhost
API_PORT=18080
MAIN_API_PORT=8100

PWA_DEV_PORT=18443
PWA_PREVIEW_PORT=18444
DASHBOARD_PORT=3001
API_DEBUG_PORT=5678

# =============================================================================
# DEVELOPMENT FEATURES
# =============================================================================

# Enable all development features
ENABLE_HOT_RELOAD=true
ENABLE_DEBUG_TOOLBAR=true
SKIP_STARTUP_INIT=false
ENABLE_MOCK_DATA=true

# WebSocket Development Settings
WS_AUTH_REQUIRED=false
WS_AUTH_MODE=token
WS_AUTH_TOKEN=dev-token-change-me

# =============================================================================
# MONITORING (Lightweight for Development)
# =============================================================================

PROMETHEUS_PORT=19090
PROMETHEUS_ENABLED=true
PERFORMANCE_MONITORING_ENABLED=true
STREAM_MONITORING_ENABLED=true
METRICS_ENABLED=true

# Development Management Tools
PGADMIN_EMAIL=admin@leanvibe.dev
PGADMIN_PASSWORD=admin_password
PGADMIN_PORT=5150

REDIS_COMMANDER_PORT=8201
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin

ADMINER_PORT=8203
REDIS_INSIGHT_PORT=8202

# =============================================================================
# ORCHESTRATOR (Development Limits)
# =============================================================================

USE_SIMPLE_ORCHESTRATOR=true
MAX_CONCURRENT_AGENTS=5     # Limited for development
ORCHESTRATOR_TYPE=simple
AGENT_HEARTBEAT_INTERVAL=60
AGENT_TIMEOUT=600

# Reduced message processing for development
MESSAGE_BATCH_SIZE=10
MESSAGE_BATCH_WAIT_MS=100
MAX_MESSAGE_SIZE_BYTES=512000  # 500KB

# =============================================================================
# CORS AND SECURITY (Development Friendly)
# =============================================================================

CORS_ORIGINS=http://localhost:18080,http://localhost:18443,http://localhost:18444,http://localhost:3001,http://127.0.0.1:18080,http://localhost:8100
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,api,*

# =============================================================================
# AI SERVICES (Mock/Development Keys)
# =============================================================================

# Set these to real values if you want to test AI features
ANTHROPIC_API_KEY=test-anthropic-api-key-set-real-value-for-ai-testing
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

OPENAI_API_KEY=test-openai-api-key-set-real-value-for-ai-testing
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4-turbo-preview

# =============================================================================
# GITHUB INTEGRATION (Optional for Development)
# =============================================================================

GITHUB_TOKEN=your-github-token-optional-for-development
ENABLE_GITHUB_INTEGRATION=false  # Disabled by default in development

# =============================================================================
# DEVELOPMENT OPTIMIZATIONS
# =============================================================================

# Faster startup and reduced resource usage
COMPRESSION_ENABLED=false
BACKPRESSURE_ENABLED=false
CIRCUIT_BREAKER_ENABLED=false

# Development-friendly settings
CONTEXT_MAX_TOKENS=4000     # Smaller context for development
CONSOLIDATION_THRESHOLD=0.9  # Less frequent consolidation
SLEEP_CYCLE_INTERVAL=7200   # 2 hours

# Self-modification settings for development
SELF_MODIFICATION_ENABLED=false  # Disabled for safety in development
SAFE_MODIFICATION_ONLY=true

# =============================================================================
# TESTING SUPPORT
# =============================================================================

# Enable for development testing
LOAD_TEST_ENABLED=false
PYTEST_WORKERS=2  # Reduced for development

# =============================================================================
# EXTERNAL TOOLS (Permissive for Development)
# =============================================================================

EXTERNAL_TOOLS_SECURITY_LEVEL=low
ALLOW_SYSTEM_COMMANDS=true   # Enabled for development (use with caution)

# =============================================================================
# TMUX DEVELOPMENT SESSION
# =============================================================================

TMUX_SESSION_NAME=leanvibe-dev
TMUX_AUTO_CREATE=true