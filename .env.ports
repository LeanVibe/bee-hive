# LeanVibe Agent Hive - Non-Standard Port Configuration
# Using high ports (8000+) to avoid conflicts with common services

# =============================================================================
# CORE SERVICES - Non-Standard Ports to Avoid Conflicts
# =============================================================================

# FastAPI Backend API (default: 8000, conflicts with other dev servers)
API_PORT=18080
API_HOST=0.0.0.0

# Mobile PWA Development Server (default: 3000/5173, conflicts with React/Vite)  
PWA_DEV_PORT=18443
PWA_PREVIEW_PORT=18444

# =============================================================================
# DATABASE SERVICES - Custom Ports
# =============================================================================

# PostgreSQL (default: 5432, conflicts with system PostgreSQL)
POSTGRES_PORT=15432
DATABASE_URL=postgresql+asyncpg://leanvibe_user:leanvibe_secure_pass@localhost:15432/leanvibe_agent_hive

# Redis (default: 6379, conflicts with system Redis)
REDIS_PORT=16379
REDIS_URL=redis://localhost:16379/0

# =============================================================================
# MONITORING & OBSERVABILITY - High Port Range
# =============================================================================

# Prometheus Metrics Endpoint (default: 9090, conflicts with Prometheus)
PROMETHEUS_PORT=19090

# Health Check & Status Endpoints
HEALTH_CHECK_PORT=18081

# WebSocket Real-time Updates
WEBSOCKET_PORT=18082

# =============================================================================
# DEVELOPMENT & DEBUGGING SERVICES  
# =============================================================================

# Hot Reload Development Server
DEV_RELOAD_PORT=18083

# Debug & Profiling Interface  
DEBUG_PORT=18084

# API Documentation (separate from main API if needed)
DOCS_PORT=18085

# =============================================================================
# EXTERNAL SERVICE MOCK PORTS (for testing without real APIs)
# =============================================================================

# Mock Anthropic API Server (for testing)
MOCK_ANTHROPIC_PORT=18090

# Mock OpenAI API Server (for testing)  
MOCK_OPENAI_PORT=18091

# =============================================================================
# LOAD BALANCING & PROXY SERVICES
# =============================================================================

# Nginx/Reverse Proxy (if used)
PROXY_PORT=18000

# Load Balancer Health Checks
LB_HEALTH_PORT=18001

# =============================================================================
# ENTERPRISE FEATURES (optional)
# =============================================================================

# Enterprise Dashboard
ENTERPRISE_DASHBOARD_PORT=18200

# Admin Interface
ADMIN_INTERFACE_PORT=18201

# Audit Logging Service
AUDIT_LOG_PORT=18202

# =============================================================================
# PORT VALIDATION & CONFLICT DETECTION
# =============================================================================

# Port range reserved for Agent Hive (18000-18999)
AGENT_HIVE_PORT_RANGE_START=18000
AGENT_HIVE_PORT_RANGE_END=18999

# Conflict detection - ports to avoid
AVOID_PORTS=22,25,53,80,110,143,443,993,995,3000,3001,5000,5173,8000,8080,8443,9000

# =============================================================================
# CORS ORIGINS - Updated for New Ports
# =============================================================================

CORS_ORIGINS=http://localhost:18080,http://localhost:18443,http://localhost:18444,http://127.0.0.1:18080
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# SERVICE DISCOVERY & REGISTRATION
# =============================================================================

# Service registry for port management
SERVICE_REGISTRY_PORT=18500

# Dynamic port assignment range (for scaling)
DYNAMIC_PORT_RANGE_START=18600  
DYNAMIC_PORT_RANGE_END=18699

# =============================================================================
# SECURITY CONSIDERATIONS
# =============================================================================

# Only bind to localhost for development (change for production)
BIND_HOST=127.0.0.1

# Enable firewall rules for custom port range (production recommendation)
ENABLE_PORT_FIREWALL=false

# =============================================================================
# QUICK REFERENCE - PORT MAPPING
# =============================================================================
#
# Service                    | Standard Port | Agent Hive Port | Purpose
# ---------------------------|---------------|-----------------|------------------  
# FastAPI Backend           | 8000          | 18080          | Main API server
# PWA Development           | 5173          | 18443          | Frontend dev server
# PWA Preview               | 4173          | 18444          | Production preview
# PostgreSQL                | 5432          | 15432          | Database server
# Redis                     | 6379          | 16379          | Cache & messaging
# Prometheus Metrics        | 9090          | 19090          | Monitoring
# WebSocket                 | 8080          | 18082          | Real-time updates
# Health Checks             | 8080          | 18081          | Status monitoring
#
# =============================================================================